# TDD
![hello](./images/tdd/001.png)
<br><br><br><br><br><br><br><br><br><br>
![current](./images/tdd/002.png)
<br><br><br><br><br><br><br><br><br><br>
![future](./images/tdd/003.png)
<br><br><br><br><br><br><br><br><br><br>
> ## 1. TDD 방법론에 대해서 알고 있는가?
> [YES](#2-test-코드를-작성해보았는가)
>> Test-driven development / 테스트 주도 개발  
>> 말 그대로 테스트가 개발을 주도하는 방식  
>> 기능을 개발하기 전에 기능에 대한 테스트 코드가 이미 작성되어 있어야 한다.  
>> 테스트 주도 개발이라고는 하지만 100% 테스트 코드가 먼저 작성되어 있어야 한다는 의미는 아니다.  
>> 테스트 코드를 작성하기에 너무 복잡한 코드라서 기능 개발보다 테스트 코드가 더 복잡하거나 오래 걸리는 배보다 배꼽이 큰 경우에는 테스트 코드를 생략하는 것을 권장하기도 한다.  
>> 하지만 그 외의 경우에는 테스트 코드가 먼저 작성되어 있어야 한다.  
>> 테스트가 성공하도록 기능 개발을 하는 것이다.  
>> ![hell](./images/tdd/004.png)
>> 그렇다면 TDD 의 장단점은 무엇이 있을까?
>>> ### 장점
>>>> #### 1. 설계 수정 시간 단축
>>>> 테스트 코드를 먼저 작성하기 때문에 기능에 대한 결함 등을 미리 발견해서 수정할 수 있다.  
>>>> 여러 문서를 읽어봤지만 이게 TDD 의 핵심 중 하나인 것 같다.  
>>>> 개발이 된 후 테스트 및 QA 를 진행하고 수정을 하는 것이 아닌 개발 초입에서 설계 결함 등을 발견할 수 있다.  
>>>> #### 2. 객체 지향적인 코드 개발
>>>> 개발이 진행되기 전에 기능에 대해서 100% 가까이 이해한 상태이기 때문에 모든 요소에 대한 점검이 기본적으로 완료된다.  
>>>> 그렇다면 더 명확한 구조를 설계할 수 있으며 각각의 함수나 클래스를 더욱 명확하게 구조화시킨 코드를 작성할 수 있다.
>>>> #### 3. 디버깅 시간 단축
>>>> 개인적으로 가장 큰 장점으로 느껴진다.  
>>>> 결과적으로는 결과물의 버그율이 현저하게 줄어든다.
>>>> #### 4. 유지보수에 유용
>>>> 위의 2, 3 번의 기능으로 인한 부가적인 효과인 것 같다.
>>>> 2 번의 이유로 보다 명확한 구조를 가지기 때문에 구조를 빠르게 파악하고 수정할 수 있다.  
>>>> 3 번의 이유로 수정을 하면 영향이 가는 기능들에 대한 디버깅이 바로 가능하다.
>>>> #### 5. 문서화 자동
>>>> 더이상 자세한 설명은 생략한다.
>>> ### 단점
>>>> #### 1. 러닝커브
>>>> 익숙하지 않은 것 투성
>>>> #### 2. 개발 비용 증가
>>>> TDD 는 결코 기존 개발 방식보다 빠르지 않다.  
>>>> 오히려 대부분 느리다고 할 수 있다.
>>>> #### 3. 높은 진입장벽
>>>> 프로젝트는 혼자 하는게 아니다.  
>>>> 팀으로 한다.  
>>>> TDD 는 모든 팀원이 TDD 에 대한 이해와 테스트 코드 개발 역량을 필요로 한다.
>>>> 
>>>
>>
> ## 2. Test 코드를 작성해보았는가?
> [YES](#3-tdd-방식에서-test-코드의-범위에-대해서-알고-있는가)
>> 테스트 코드는 쉽게 말해서 개발한 기능에 대해 검수하는 것이라고 생각하면 편할 것이다.  
>> GET /a/b 라는 URI 를 호출했을 때 JSON 형식으로 ResponseBody 에 flag 라는 key 로 boolean 값을 반환하는 기능을 개발했다고 가정을 해보겠다.
>> ```java
>> @GetMapping("a/b")
>> public ResponseBody<?> ab () {
>>     HashMap<String, Object> body = new HashMap<>();
>>     
>>     Random random = new Random();
>>     
>>     body.put("flag", random.nextBoolean());
>>     
>>     return ResponseEntity.ok().body(body);
>> }
>> ```
>> 그렇다면 테스트 코드에서 체크해야할 내용은 다음과 같다.
>>> 1. GET /a/b 를 호출했을때 에러가 발생하지 않는가?  
>>> 2. ResponseBody 에 flag 라는 key 로 boolean 값이 담겨오는가?
>>> 
>> 이렇게 만들어진 기능에 대해 검수하는 것이다.  
>> 굳이? 또는 노가다 작업처럼 느껴질 수 있다.  
>> 하지만 이 테스트 코드의 가장 큰 장점을 느낄 수 있는 시점은 기능에 대한 수정 작업이 발생했을 때가 그 중 하나일 것이다.  
>> 예를 들어 100 개의 기능을 가지고 있는 프로젝트가 있다고 가정해보자.  
>> 이때 74 번 기능에 대한 수정 요청이 있어 수정을 완료했다.  
>> 그리고 74 번 기능에 대한 테스트 코드도 수정했다.  
>> 당신이 작업자라고 했을 경우 74 번 기능을 수정한 결과 다른 99 개 기능에 영향이 안간다고 확신할 수 있는가?  
>> 또한 어떤 기능에 영향이 가고 그 기능을 수정하는 작업을 버그 없이 처리가 가능한가?  
>> 물론 가능할 경우도 있지만 수정할 작업자가 제작한 프로젝트가 아닌 경우 처럼 파악하는데 오랜 시간이 걸리는 경우도 있다.  
>> 이때 테스트 코드가 작성되어 있다면 빌드 과정에서 테스트 코드들이 한 차례씩 실행되는데 여기서 수정 작업에 영향이 가서 결과가 달라진 코드들은 테스트가 실패하기때문에 결과적으로 빌드가 되지 않는다.  
>> 물론 ResponseBody 구조가 똑같고 로직에 에러는 발생하지 않지만 결과 값이 비정상적인 값이 반환되는 것과 같은 경우에는 테스트 코드에서 정확히 체크하기 힘들 수 있다.  
>> 하지만 수정 작업때문에 에러가 발생하는 기능에 대해서는 시간을 할애하지 않고도 확인 할 수 있다.  
>> 이는 배포를 했을 때 기능에 대한 에러 확률을 굉장히 줄일 수 있는 큰 장점이라고 생각한다.
>> 그리고 Java, Spring 을 사용하는 Back-end 개발자라고 했을 때 API 문서를 제작하는가?  
>> 테스트 코드가 작성되어 있다면 API 문서를 RestDocs 으로 변경하는 것을 추천한다.  
>> 테스트 코드를 작성하게 되면 RestDocs 문서가 90% 이상 자동으로 제작된다.  
>> 이것도 테스트 코드에 큰 장점이라고 생각된다.  
>> 
> ## 3. TDD 방식에서 Test 코드의 범위에 대해서 알고 있는가?
> [YES](#4-아웃소싱-프로젝트에서의-한계)
>> 이제 문제는 여기서부터다.  
>> 테스트 주도 개발에서 테스트의 영역은 생각보다 크다.  
>> 성공했을 때의 테스트 코드를 작성하는 것은 기본.  
>> 실패에 대한 테스트 코드도 작성해야 한다.  
>> 여기서부터는 필자도 특수한 경우가 아닌 이상 굳이? 너무 노가다라고 생각한다.  
>> 에러가 발생했을 때 어떤 에러가 발생할 수 있으며 왜 그러한 에러가 발생하는지에 대한 테스트 코드도 각각 작성을 해야한다.  
>> 하나의 기능에 여러 테스트 코드가 작성되는 것이다.  
>> 또한 비즈니스 로직에 들어가는 여러 기능.  
>> 즉, 유닛에 대한 테스트 코드도 작성되어야 한다.
>> 
> ## 4. 아웃소싱 프로젝트에서의 한계
>> 테스트 주도 개발을 하기 위해서 테스트 코드를 작성하는 방법은 크게 두 가지가 있다.  
>>> 1. 해당 프로젝트 개발이 시작되기 전에 테스트를 먼저 작성하는 사람이 있다.  
>>> 2. 작업자들이 각자 맡은 기능에 대해 이해가 되어 있으며 각자 맡은 기능을 개발하기 전에 테스트를 먼저 작성한다.
>>>
>> 위의 두 가지 모두 현실적인 문제가 발생한다.  
>> 문제는 프로젝트 기간이다.  
>> 아웃소싱 프로젝트의 기간은 컴팩트하게 짜여진다.  
>> 개인마다 차이가 있겠지만 여유가 많지 않다.  
>> 여러개의 프로젝트를 동시에 진행한다면 더더욱 여유가 없으며  
>> 각 기능에 대한 내용을 상세히 알기 위해 미팅에 모두 참여하기에는 어려움이 따를 것이라고 판단된다.  
>> 그렇기 때문에 완전한 TDD 방식은 인소싱 프로젝트에서 가능하다고 예상된다.  
>> TDD 방법론은 방법론일 뿐이다.  
>> 현재 상황에 맞춰서 단계적으로 적용 또는 변형이 가능하다.
>>
> ## 5. 아웃소싱 프로젝트에서 TDD 적용 단계
>> 일단 TDD 라고 말하기도 좀 그렇지만 기능 개발이 우선되야 한다.   
>> 그리고 테스트 코드를 성공 결과에만 맞춰서 작성한다.  
>> 실패 테스트, 유닛 테스트는 일단 포기한다.  
>> 모두가 테스트 코드에 익숙해지는 것이 첫 번째 단계이다.
>> 
> ## 6. 앞으로의 방향
>> 위에서도 설명했지만 일단 모두가 테스트 코드에 익숙해져야 한다.  
>> TDD 방식은 한 명이 이끌어서 리드할 수 있는 방법이 아니다.  
>> 작업자 모두가 같이 이끌어 가는 형식의 개발 방법이다.  
>> 그렇기에 모두가 테스트 코드에 익숙해져야 한다.  
>> 그리고 여유가 된다면 토이 프로젝트를 TDD 방식으로 진행하는 것이 가장 좋다고 개인적으로 생각한다.  
>> 토이 프로젝트를 진행함으로써 TDD 방식 외에 다른 장점들을 발견할 수 있으며 예상치 못했던 리스크를 발견해서 미리 제거할 수 있다.
>> 
> ## 끝
